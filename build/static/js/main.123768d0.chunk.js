(this["webpackJsonpffr-exercicio4"]=this["webpackJsonpffr-exercicio4"]||[]).push([[0],{55:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=a(12),i=a(14),u=a(26),s=a(10),m="ListMovies",d="AddMovie",p="RemoveMovie",v={movies:{},playlist:[]},b=Object(i.b)({movies:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case m:return(e=Object(s.a)({},a.movies))[n.id]=n.movies,Object(s.a)(Object(s.a)({},a),{},{movies:e});case d:return t=Object(u.a)(new Set([].concat(Object(u.a)(a.playlist),[n.movie]))),Object(s.a)(Object(s.a)({},a),{},{playlist:a.playlist.concat(n)});case p:return t=a.playlist.filter((function(e,t){return t!==n.id})),Object(s.a)(Object(s.a)({},a),{},{playlist:t});default:return a}}}),f=Object(i.c)(b),E=a(7),g=(a(55),a(2)),y=a(15),h=a.n(y),j=a(19),k=a(20),O=a(40),x=a(41),w=a(23),_=a.n(w),M=function(){function e(){Object(O.a)(this,e)}return Object(x.a)(e,null,[{key:"_withBaseUrl",value:function(t){return"https://api.themoviedb.org/3/".concat(t,"?api_key=").concat(e.API_KEY)}},{key:"getPopularMovies",value:function(){return _()(e._withBaseUrl("movie/popular"))}},{key:"getMovieById",value:function(t){return _()(e._withBaseUrl("movie/".concat(t)))}}]),e}();M.API_KEY="d416af5d4faee64e25ab001d87aab5c3";var B=function(){var e=Object(n.useState)({data:{results:[]}}),t=Object(k.a)(e,2),a=t[0],l=t[1],c=function(){var e=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getPopularMovies();case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,a.data.results.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("span",{className:"movieID"},e.id)," - ",e.title," -",r.a.createElement(E.b,{to:"movie/"+e.id,className:"detailLink"},"Details"))}))))},I=function(e){var t,a,l=Object(o.b)(),c=Object(n.useState)({data:[]}),i=Object(k.a)(c,2),u=i[0],s=i[1],m=null===e||void 0===e||null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id,p=function(){var t=Object(j.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.getMovieById(e.match.params.id);case 2:a=t.sent,s(a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){p()}),[]);var v="https://image.tmdb.org/t/p/original/".concat(u.data.backdrop_path);return console.log("ID: "+m),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-image",style:{backgroundImage:"url(".concat(v,")"),backgroundColor:"GrayText",backgroundBlendMode:"screen, difference, lighten",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}},r.a.createElement("div",{className:"bg-text"},r.a.createElement("h1",null,u.data.title),r.a.createElement("h3",null,u.data.tagline),r.a.createElement("p",null,u.data.overview),r.a.createElement("p",null,"Release date: ",u.data.release_date),r.a.createElement("p",null,"Average vote: ",u.data.vote_average),r.a.createElement("p",null,"Movie poster:"),r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300_and_h450_bestv2/"+u.data.poster_path,alt:u.data.title})),r.a.createElement("div",null),r.a.createElement("p",null,r.a.createElement(E.b,{to:"/",className:"backLink"},"Go back"),r.a.createElement("button",{onClick:function(){return l(function(e){return{type:d,payload:e}}(u.data[m]))},className:"addPlaylist"},"+ playlist"))))},N=a(42);function P(){var e=Object(N.a)(["\n\tcolor: white;\n\tbackground-color: hsl(197, 93%, 29%);\n\tborder: none;\n\tborder-radius: 4px;\n\tpadding: 10px 24px;\n\ttext-align: center;\n\tfont-size: 16px;\n\tmargin: 4px 2px;\n\topacity: 0.7;\n\ttransition: 0.3s;\n\tdisplay: inline-block;\n\ttext-decoration: none;\n\tcursor: pointer;\n"]);return P=function(){return e},e}var A=a(43).a.div(P()),F=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.movies})),a=t.playlist;return console.log("playlist: "+a),console.log("movieList: "+t),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"My Playlist"),r.a.createElement("ul",null,a.map((function(t,a){return r.a.createElement("li",{key:a},r.a.createElement(A,null,r.a.createElement(E.b,{to:"/movie/".concat(null===t||void 0===t?void 0:t.id)},String(null===t||void 0===t?void 0:t.title)),r.a.createElement("button",{onClick:function(){return e({type:p,payload:a})},className:"navBar"},"X"))," *")}))))},S=function(){return r.a.createElement(g.c,null,r.a.createElement(g.a,{path:"/",exact:!0,component:B}),r.a.createElement(g.a,{path:"/movie/:id",component:I}),r.a.createElement(g.a,{path:"/playlists",component:F}))},D=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"The Movie Database API"))},L=function(){return r.a.createElement(A,{className:"navBar"},r.a.createElement(E.b,{to:"/"},".:Home:."),r.a.createElement(E.b,{to:"/playlists"},".:Playlist:."))};function C(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App"},r.a.createElement(D,null),r.a.createElement(L,null),r.a.createElement(S,null)))}var R=document.getElementById("root");c.a.render(r.a.createElement(o.a,{store:f},r.a.createElement(E.a,null,r.a.createElement(C,null))),R)}},[[74,1,2]]]);
//# sourceMappingURL=main.123768d0.chunk.js.map